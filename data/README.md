
## Instance Preparation

The structure of datasets are organized under `datasets` as follows
```plaintext
./$DATASET_NAME
├── train
    └── instances  # training instances

```
where each dataset is placed in their own `$DATASET_NAME` directory

The instances (.mps or .lp files) of each dataset should be prepared and placed in `$DATASET_NAME/train/instances`, respectively.

For BIP dataset, instances can be downloaded [here](https://github.com/ds4dm/ml4co-competition/blob/main/DATA.md). One can use instances 0-299 for training.

For BPP dataset, instances are generated by running
```plaintext
python ins_generation.py
```

For SMSP dataset, please convert instances from the [steelmillslab set](http://becool.info.ucl.ac.be/steelmillslab) into `.mps` format by running

```plaintext
python gen_smsp.py
```


## Solution Collection

The (high-quality) solutions of training instances are collected and stored in `$DATASET_NAME/train/solutions` using MILP solver SCIP by


```plaintext

# BIP
python collect_sols.py --rootDir ./BIP/train --nWorkers 5 --maxTime 3600
# BPP
python collect_sols.py --rootDir ./BPP/train --nWorkers 5 --maxTime 3600
# SMSP
python collect_sols.py --rootDir ./SMSP/train --nWorkers 5 --maxTime 3600

```

*Note: this step may take a couple of days.*


## Prepare the bipartite representation

The last step before training is converting each instance into a bipartite graph, so that it can be handled by GNNs. By running the following scripts, these biaprtite graphs will be created and stored in `$DATASET_NAME/train/bipartites`.

```plaintext
cd ../

python dataset.py --dataset BIP
python dataset.py --dataset BPP
python dataset.py --dataset SMSP
```
